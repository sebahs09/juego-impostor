<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Juego del Impostor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Mode Selection Screen -->
        <div id="mode-screen" class="screen">
            <h1>El Juego del Impostor</h1>
            <p class="instruction">Selecciona el modo de juego</p>
            <div class="mode-buttons">
                <button id="local-mode-btn" class="mode-btn">
                    <span class="mode-icon">游논</span>
                    <span class="mode-title">Modo Local</span>
                    <span class="mode-desc">Jugar en un solo dispositivo</span>
                </button>
                <button id="online-mode-btn" class="mode-btn">
                    <span class="mode-icon">游깷</span>
                    <span class="mode-title">Modo Online</span>
                    <span class="mode-desc">Crear o unirse a una sala</span>
                </button>
            </div>
        </div>

        <!-- Online Room Screen -->
        <div id="online-room-screen" class="screen hidden">
            <h1>Modo Online</h1>
            <div class="online-options">
                <button id="create-room-btn" class="btn">Crear Sala</button>
                <div class="divider">O</div>
                <div class="form-group">
                    <label for="room-code">C칩digo de Sala:</label>
                    <input type="text" id="room-code" class="form-control" placeholder="Ingresa el c칩digo">
                </div>
                <button id="join-room-btn" class="btn">Unirse a Sala</button>
            </div>
            <button id="back-to-mode" class="btn btn-secondary">Volver</button>
        </div>

        <!-- Room Lobby Screen -->
        <div id="lobby-screen" class="screen hidden">
            <h2>Sala: <span id="room-code-display"></span></h2>
            <div class="share-link">
                <p>Comparte este c칩digo con tus amigos:</p>
                <div class="code-box" id="share-code"></div>
                <button id="copy-code-btn" class="btn-small">Copiar C칩digo</button>
            </div>
            <div class="form-group">
                <label for="player-name">Tu Nombre:</label>
                <input type="text" id="player-name" class="form-control" placeholder="Ingresa tu nombre">
            </div>
            <div id="players-list" class="players-list"></div>
            <div id="host-controls" class="hidden">
                <div class="form-group">
                    <label for="theme-lobby">Tem치tica:</label>
                    <select id="theme-lobby" class="form-control">
                        <option value="minecraft">Minecraft</option>
                        <option value="futbol">F칰tbol</option>
                        <option value="comida">Comida</option>
                        <option value="clashroyale">Clash Royale</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="impostors-lobby">N칰mero de impostores (1-3):</label>
                    <input type="number" id="impostors-lobby" min="1" max="3" value="1" class="form-control">
                </div>
                <button id="start-online-game" class="btn">Comenzar Juego</button>
            </div>
            <button id="leave-room-btn" class="btn btn-secondary">Salir de la Sala</button>
        </div>

        <!-- Setup Screen (Local Mode) -->
        <div id="setup-screen" class="screen hidden">
            <h1>Modo Local</h1>
            <div class="form-group">
                <label for="theme">Tem치tica:</label>
                <select id="theme" class="form-control">
                    <option value="minecraft">Minecraft</option>
                    <option value="futbol">F칰tbol</option>
                    <option value="comida">Comida</option>
                    <option value="clashroyale">Clash Royale</option>
                </select>
            </div>
            <div class="form-group">
                <label for="players">N칰mero de jugadores (3-10):</label>
                <input type="number" id="players" min="3" max="10" value="5" class="form-control">
            </div>
            <div class="form-group">
                <label for="impostors">N칰mero de impostores (1-3):</label>
                <input type="number" id="impostors" min="1" max="3" value="1" class="form-control">
            </div>
            <button id="start-game" class="btn">Comenzar Juego</button>
            <button id="back-from-setup" class="btn btn-secondary">Volver</button>
        </div>

        <!-- Local Game Screen -->
        <div id="game-screen" class="screen hidden">
            <h2>Turno del Jugador <span id="current-player-number">1</span></h2>
            <p class="instruction">Toca la pantalla para ver tu palabra</p>
            <div id="reveal-card" class="reveal-card hidden">
                <div class="word-display" id="word-display"></div>
                <p class="reveal-instruction">Memoriza tu palabra y p치sale el dispositivo al siguiente jugador</p>
            </div>
            <button id="next-player" class="btn hidden">Siguiente Jugador</button>
            <button id="play-again" class="btn hidden">Jugar de Nuevo</button>
        </div>

        <!-- Online Game Screen -->
        <div id="online-game-screen" class="screen hidden">
            <h2 id="online-player-name">Esperando...</h2>
            <p class="instruction">Tu palabra es:</p>
            <div class="word-display-online" id="word-display-online">Cargando...</div>
            <p class="reveal-instruction">Memoriza tu palabra y espera a que todos est칠n listos</p>
            <div id="ready-status" class="ready-status"></div>
            <button id="back-to-lobby" class="btn btn-secondary hidden">Volver al Lobby</button>
        </div>

    </div>
    
    <!-- PeerJS - Conexi칩n P2P gratuita -->
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="game-peer.js"></script>
</body>
</html>
